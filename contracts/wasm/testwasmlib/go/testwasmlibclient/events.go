// Copyright 2020 IOTA Stiftung
// SPDX-License-Identifier: Apache-2.0

// (Re-)generated by schema tool
// >>>> DO NOT CHANGE THIS FILE! <<<<
// Change the json schema instead

package testwasmlibclient

import "github.com/iotaledger/wasp/packages/vm/wasmlib/go/wasmclient"

var testWasmLibHandlers = map[string]func(*TestWasmLibEvents, []string){
	"testwasmlib.test": func(evt *TestWasmLibEvents, msg []string) { evt.onTestWasmLibTestThunk(msg) },
}

type TestWasmLibEvents struct {
	test func(e *EventTest)
}

func (h *TestWasmLibEvents) CallHandler(topic string, params []string) {
	handler := testWasmLibHandlers[topic]
	if handler != nil {
		handler(h, params)
	}
}

func (h *TestWasmLibEvents) OnTestWasmLibTest(handler func(e *EventTest)) {
	h.test = handler
}

type EventTest struct {
	wasmclient.Event
	Address wasmclient.Address
	Name    string
}

func (h *TestWasmLibEvents) onTestWasmLibTestThunk(message []string) {
	if h.test == nil {
		return
	}
	e := &EventTest{}
	e.Init(message)
	e.Address = e.NextAddress()
	e.Name = e.NextString()
	h.test(e)
}
